{"meta":{"title":"志熙兮","subtitle":"志兮的笔记~","description":"不提及往昔，总是觉得来日方长","author":"zhixi","url":"https://zhixixi.github.io","root":"/"},"pages":[],"posts":[{"title":"centos7-安装sftp","slug":"centos7-安装sftp","date":"2021-01-16T08:23:26.000Z","updated":"2021-01-16T11:29:57.239Z","comments":true,"path":"2021/01/16/centos7-安装sftp/","link":"","permalink":"https://zhixixi.github.io/2021/01/16/centos7-%E5%AE%89%E8%A3%85sftp/","excerpt":"","text":"1、创建sftp用户组groupadd sftp 2、创建ftp用户useradd -g sftp -s /sbin/nologin -M sftp passwd sftp 3、创建temsftp家目录并指定给家目录更改属主并授权家目录属性必须是root，权限可以是755或是750 mkdir /usr/sftp -p usermod -d /usr/sftp sftp chown root:root /usr/sftp chmod 755 /usr/sftp 4、创建可写目录mkdir /usr/sftp/file -p chown sftp:sftp /usr/sftp/file 5、编辑配置文件 /etc/ssh/sshd_config注释掉 X11Forwarding yes 这句话，大概在101行 注释掉 Subsystem sftp /usr/libexec/openssh/sftp-server 这句话，大概在132行 并在文件末尾添加如下语句： Subsystem sftp internal-sftpMatch User sftpChrootDirectory /usr/sftpForceCommand internal-sftpAllowTcpForwarding noX11Forwarding no 重新启动ssh systemctl restart sshd 6、验证sftp sftp@192.168.0.216","categories":[],"tags":[{"name":"linux工具安装","slug":"linux工具安装","permalink":"https://zhixixi.github.io/tags/linux%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85/"}]}],"categories":[],"tags":[{"name":"linux工具安装","slug":"linux工具安装","permalink":"https://zhixixi.github.io/tags/linux%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85/"}]}